<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Todo</title>
  </head>

  <body>
    <main id="user-interface">
      <ul id="list">
        <li><button>X</button><input value="To do" /></li>
        <li><button>X</button><input value="To do" /></li>
        <li><button id="add-todo-button">+</button></li>
      </ul>
    </main>

    <script id="handlers">
      const deleteTodoHandler = (event) => {
        const target = event.target;
        if (target.nodeName === "BUTTON" && target.innerHTML === "X") {
          const liToRemove = target.parentElement;
          const todoList = document.getElementById("list");
          todoList.removeChild(liToRemove);
        }
      };

      const addTodoHandler = (event) => {
        const newLi = document.createElement("li");

        const newButtonX = document.createElement("button");
        newButtonX.innerHTML = "X";
        newButtonX.className = "delete-todo-button";
        newButtonX.addEventListener("click", deleteTodoHandler);
        newLi.appendChild(newButtonX);

        const newInput = document.createElement("input");
        newInput.value = "To do";
        newLi.appendChild(newInput);

        const todoList = document.getElementById("list");
        addTodoButton = document.getElementById("add-todo-button");
        todoList.insertBefore(newLi, addTodoButton.parentElement);
      };
    </script>

    <script id=" listeners">
      document
        .getElementById("list")
        .addEventListener("click", deleteTodoHandler);

      document
        .getElementById("add-todo-button")
        .addEventListener("click", addTodoHandler);
    </script>
  </body>
</html>
